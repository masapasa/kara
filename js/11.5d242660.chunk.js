(self.webpackChunkkara=self.webpackChunkkara||[]).push([[11],{2798:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(7294),r=n(5005),l=n(548),o=n(9603),i=function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};const c=function(){var e=(0,a.useRef)(null),t=(0,a.useRef)(null),n=(0,a.useState)({top:"",bottom:""}),c=n[0],m=n[1],u=(0,a.useState)(null),s=u[0],f=u[1];(0,a.useEffect)((function(){if(s){var t=e.current;if(t){var n=s.width,a=s.height,r=Math.min(.8*window.innerWidth,n),l=a*(r/n),i=Math.min(.8*window.innerHeight,l),m=r*(i/l);t.width=m,t.height=i;var u=null==t?void 0:t.getContext("2d");if(u){u.drawImage(s,0,0,m,i),u.fillStyle="white",u.strokeStyle="black",u.lineWidth=1.5,u.textAlign="center",u.textBaseline="top";var f=c.top,h=c.bottom,p=m/2;(0,o.v)(u,f.trim(),"Impact",60,.9*m),u.fillText(f.trim(),p,10),u.strokeText(f.trim(),p,10),u.textBaseline="bottom",(0,o.v)(u,h.trim(),"Impact",60,.9*m);var v=i-10;u.fillText(h.trim(),p,v),u.strokeText(h.trim(),p,v)}}}}),[c,s]);var h=function(e){var t=e.target,n=t.name,a=t.value,r=t.files;"image"===n?(null==r?void 0:r.length)&&r[0].arrayBuffer().then((function(e){var t=new Blob([e]),n=URL.createObjectURL(t),a=new Image;a.src=n,a.onload=function(){f(a),URL.revokeObjectURL(n)}})):m((function(e){var t;return i(i({},e),((t={})[n]=a,t))}))},p=function(n){var a;if("select"!==n.currentTarget.name){var r=e.current;if(r){var l=document.createElement("a");l.download="meme.png",l.href=r.toDataURL(),l.click(),l.remove()}}else null===(a=t.current)||void 0===a||a.click()},v=c.top,d=c.bottom;return a.createElement("div",{className:"p-4"},a.createElement("h1",null,"Meme Generator"),a.createElement("br",null),a.createElement("p",null,"Upload an image and enter some text ðŸ‘€"),a.createElement("hr",null),a.createElement("canvas",{ref:e,className:"border"}),a.createElement(l.Z,null,a.createElement(l.Z.Group,{className:"mt-3"},a.createElement("input",{type:"file",accept:"image/*",name:"image",ref:t,onChange:h}),a.createElement(r.Z,{variant:"primary",name:"select",onClick:p},"Select an",s&&"other"," image")),a.createElement(l.Z.Group,null,a.createElement(l.Z.Label,null,"Top text:"),a.createElement(l.Z.Control,{className:"w-25 meme-input",name:"top",value:v,onChange:h,placeholder:"Something pog"})),a.createElement(l.Z.Group,null,a.createElement(l.Z.Label,null,"Bottom text:"),a.createElement(l.Z.Control,{className:"w-25 meme-input",name:"bottom",value:d,onChange:h,placeholder:"Something else pog"})),a.createElement("hr",null),a.createElement(r.Z,{disabled:!s,variant:"success",onClick:p},"Download meme")))}},9603:(e,t,n)=>{"use strict";function a(e,t,n,a,r){var l=a;do{e.font=(l-=5)+"px "+n}while(e.measureText(t).width>r);return l}n.d(t,{v:()=>a,T:()=>r});var r=function(e){return e.sort((function(){return Math.random()-.5}))}}}]);